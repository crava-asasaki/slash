 /*
#overview
sprite

 */

@mixin sprite-width($sprite,$scale:$default-scale) {
    width: ceil((nth($sprite, 5) * $scale)/2);
}

@mixin sprite-height($sprite,$scale:$default-scale) {
    height: ceil((nth($sprite, 6) * $scale)/2);
}

@mixin sprite-position($sprite,$scale:$default-scale) {
    $sprite-offset-x: nth($sprite, 3) * $scale;
    $sprite-offset-y: nth($sprite, 4) * $scale;
    background-position: ceil(($sprite-offset-x)/2) ceil(($sprite-offset-y)/2);
}

@mixin sprite-image($sprite) {
    $sprite-image: nth($sprite, 9);
    background-image: url(#{$sprite-image});
    background-repeat: no-repeat;
}
@mixin sprite($sprite,$scale:$default-scale) {
    @include sprite-image($sprite);
    @include sprite-position($sprite,$scale);
    @include sprite-width($sprite,$scale);
    @include sprite-height($sprite,$scale);
    @include sprite-size($sprite,$scale);
}

@mixin sprite-size($sprite,$scale:$default-scale) {
  background-size: ceil((nth($sprite, 7)*$scale)/2) ceil((nth($sprite, 8)*$scale)/2);
}

{{#options}}
.{{prefix}} {
{{/options}}
    @include inline-block;
}

/* 
#styleguide
{{#options}}{{prefix}}{{/options}}

スプライトアイコン
```
{{#items}}
<i class="sprite {{#options}}{{prefix}}{{/options}} {{name}}"></i>
{{/items}}
```
*/

{{#items}}
${{name}}: {{px.x}} {{px.y}} {{px.offset_x}} {{px.offset_y}} {{px.width}} {{px.height}} {{px.total_width}} {{px.total_height}} '{{{escaped_image}}}';
{{/items}}


{{#options}}
.{{prefix}} {
{{/options}}

    /* modifier */
    {{#items}}
    {{#options}}{{#prefix}}&{{/prefix}}{{/options}}.{{name}} {
        @include sprite(${{name}});
    }
    {{/items}}
{{#options}}
}
{{/options}}
